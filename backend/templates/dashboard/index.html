{% extends "dashboard/base.html" %}
{% load i18n %}

{% block title %}Lock Exchange - {% trans "Cryptomonnaies" %}{% endblock %}

{% block content %}
<div class="container mx-auto mt-8 px-4">
    <h2 class="text-3xl font-extrabold mb-8 text-primary">{% trans "Cryptomonnaies disponibles" %}</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
        {% for crypto in cryptos %}
        {% if crypto.quantite_disponible > 0 %}
        <div class="card bg-base-100 shadow-lg border border-base-300 hover:shadow-xl transition-shadow duration-300 rounded-lg">
            <div class="card-body flex flex-col justify-between">
                <h5 class="card-title text-xl font-semibold text-secondary mb-4">{{ crypto.nom }} ({{ crypto.sigle }})</h5>
                <p class="mb-6 text-base-content/80 text-sm">
                    {% trans "Valeur d'une pi√®ce :" %} <span class="font-bold text-lg">{{ crypto.valeur_sur_le_marche_fcfa|floatformat:2 }} FCFA</span>
                </p>
                <div class="flex gap-4">
                    <a href="{% url 'achat' crypto.id %}" class="btn btn-success btn-sm flex-1 hover:scale-105 transition-transform duration-200">
                        {% trans "Acheter" %}
                    </a>
                    <a href="{% url 'vente' crypto.id %}" class="btn btn-primary btn-sm flex-1 hover:scale-105 transition-transform duration-200">
                        {% trans "Vendre" %}
                    </a>
                </div>
            </div>
        </div>
        {% endif %}
        {% empty %}
        <div class="col-span-full">
            <div class="alert alert-info shadow-lg">
                {% trans "Aucune cryptomonnaie n'est disponible pour le moment." %}
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}